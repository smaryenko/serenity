{"name":"testDeleteBooking","id":"tests.api.booking.BookingTests:testDeleteBooking","testCaseName":"tests.api.booking.BookingTests","testSteps":[{"number":1,"description":"Make post new booking","duration":113,"startTime":"2019-11-22T14:55:31.838929+01:00[Europe/Amsterdam]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"POST https://automationintesting.online/booking/","duration":0,"startTime":"2019-11-22T14:55:31.952467+01:00[Europe/Amsterdam]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://automationintesting.online/booking/","content":"{\n    \"bookingdates\": {\n        \"checkin\": \"2019-11-22\",\n        \"checkout\": \"2019-11-23\"\n    },\n    \"bookingid\": null,\n    \"depositpaid\": true,\n    \"email\": \"rifeviols@live.com\",\n    \"firstname\": \"Lonnie Andelman\",\n    \"lastname\": \"Timmy Shandley\",\n    \"phone\": \"305164589869665\",\n    \"roomid\": 854121\n}","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Date: Fri, 22 Nov 2019 13:55:31 GMT\nContent-Type: application/json;charset\u003dUTF-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nSet-Cookie: __cfduid\u003dd778951449db4faf6d978b748752cf0071574430931; expires\u003dSun, 22-Dec-19 13:55:31 GMT; path\u003d/; domain\u003d.automationintesting.online; HttpOnly; Secure\nVia: 1.1 google\nCF-Cache-Status: DYNAMIC\nExpect-CT: max-age\u003d604800, report-uri\u003d\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\nServer: cloudflare\nCF-RAY: 539b66cc3b929d12-AMS","responseCookies":"__cfduid\u003dd778951449db4faf6d978b748752cf0071574430931;Path\u003d/;Domain\u003d.automationintesting.online;Secure;HttpOnly;Expires\u003d22/12/2019, 13:55","responseBody":"{\n    \"bookingid\": 18,\n    \"booking\": {\n        \"bookingid\": 18,\n        \"roomid\": 854121,\n        \"firstname\": \"Lonnie Andelman\",\n        \"lastname\": \"Timmy Shandley\",\n        \"depositpaid\": true,\n        \"bookingdates\": {\n            \"checkin\": \"2019-11-22\",\n            \"checkout\": \"2019-11-23\"\n        }\n    }\n}","statusCode":201},"precondition":false,"level":1}]},{"number":3,"description":"Check whether status code is as expected","duration":1,"startTime":"2019-11-22T14:55:31.953704+01:00[Europe/Amsterdam]","result":"SUCCESS","precondition":false,"level":0},{"number":4,"description":"Extract created booking from response","duration":3,"startTime":"2019-11-22T14:55:31.955624+01:00[Europe/Amsterdam]","result":"SUCCESS","precondition":false,"level":0},{"number":5,"description":"Make delete booking call","duration":121,"startTime":"2019-11-22T14:55:31.960539+01:00[Europe/Amsterdam]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":6,"description":"DELETE https://automationintesting.online/booking/18","duration":0,"startTime":"2019-11-22T14:55:32.081920+01:00[Europe/Amsterdam]","result":"SUCCESS","restQuery":{"method":"DELETE","path":"https://automationintesting.online/booking/18","content":"","contentType":"application/json","requestHeaders":"Accept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Date: Fri, 22 Nov 2019 13:55:32 GMT\nContent-Length: 0\nConnection: keep-alive\nSet-Cookie: __cfduid\u003ddab428ac5e4838c692c96254bdcff32201574430931; expires\u003dSun, 22-Dec-19 13:55:31 GMT; path\u003d/; domain\u003d.automationintesting.online; HttpOnly; Secure\nVia: 1.1 google\nCF-Cache-Status: DYNAMIC\nExpect-CT: max-age\u003d604800, report-uri\u003d\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\nServer: cloudflare\nCF-RAY: 539b66cceba0c795-AMS","responseCookies":"__cfduid\u003ddab428ac5e4838c692c96254bdcff32201574430931;Path\u003d/;Domain\u003d.automationintesting.online;Secure;HttpOnly;Expires\u003d22/12/2019, 13:55","statusCode":403},"precondition":false,"level":1}]},{"number":7,"description":"Check whether status code is as expected","duration":13,"startTime":"2019-11-22T14:55:32.083273+01:00[Europe/Amsterdam]","exception":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code is \u003c200\u003e but was \u003c403\u003e.\n","stackTrace":[{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":643,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":112,"format":1},{"classLoaderName":"app","declaringClass":"steps.api.BookingSteps","methodName":"assertResponseCode","fileName":"BookingSteps.java","lineNumber":27,"format":1},{"classLoaderName":"app","declaringClass":"tests.api.booking.BookingTests","methodName":"testDeleteBooking","fileName":"BookingTests.java","lineNumber":124,"format":1}]},"result":"FAILURE","precondition":false,"level":0},{"number":8,"description":"Make get booking call","duration":1,"startTime":"2019-11-22T14:55:32.101156+01:00[Europe/Amsterdam]","result":"SKIPPED","precondition":false,"level":0},{"number":9,"description":"Check whether status code is as expected","duration":0,"startTime":"2019-11-22T14:55:32.105147+01:00[Europe/Amsterdam]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"tests.api.booking.BookingTests","storyName":"Booking tests","storyClassName":"tests.api.booking.BookingTests","path":"tests.api.booking","type":"story"},"featureTag":{"name":"Booking/Booking tests","type":"story"},"title":"Test delete booking","tags":[{"name":"Booking/Booking tests","type":"story"},{"name":"Booking","type":"api"}],"startTime":"2019-11-22T14:55:31.831297+01:00[Europe/Amsterdam]","duration":278,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code is \u003c200\u003e but was \u003c403\u003e.\n","stackTrace":[{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":643,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122,"format":1},{"classLoaderName":"app","declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":112,"format":1},{"classLoaderName":"app","declaringClass":"steps.api.BookingSteps","methodName":"assertResponseCode","fileName":"BookingSteps.java","lineNumber":27,"format":1},{"classLoaderName":"app","declaringClass":"tests.api.booking.BookingTests","methodName":"testDeleteBooking","fileName":"BookingTests.java","lineNumber":124,"format":1}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"1 expectation failed.\nExpected status code is \u003c200\u003e but was \u003c403\u003e.\n","testFailureSummary":"FAILURE;java.lang.AssertionError;1 expectation failed.\nExpected status code is \u003c200\u003e but was \u003c403\u003e.\n;ResponseSpecificationImpl.groovy","projectKey":"","annotatedResult":"FAILURE","manual":false,"testSource":"JUnit","result":"FAILURE"}